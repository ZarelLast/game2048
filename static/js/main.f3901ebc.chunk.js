(this.webpackJsonpgame2048=this.webpackJsonpgame2048||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(2),s=a.n(o),i=(a(13),a(3)),c=a(4),l=a(6),u=a(5),f=a(7),d=(a(14),a(15),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={Score:0,BestScore:0,point:"",array:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],new_array:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],status:" ",colorsSizes:{2:{size:52,color:"#F35956"},4:{size:52,color:"#F35956"},8:{size:52,color:"#F35956"},16:{size:52,color:"#9659A7"},32:{size:52,color:"#9659A7"},64:{size:52,color:"#2494C1"},128:{size:48,color:"#2494C1"},256:{size:48,color:"#F1C500"},512:{size:40,color:"#F1C500"}}},a.componentDidMount=function(){a.setup(),document.addEventListener("keydown",a.handleKeyPress)},a.componentWillUnmount=function(){document.removeEventListener("keydown",a.handleKeyPress)},a.newGame=function(e){e.preventDefault();var t=document.getElementById("myCanvas").getContext("2d");a.setState({array:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],new_array:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Score:0,status:""},(function(){a.updateCanvas(t,a.state.array,a.state.new_array),a.setup()}))},a.isGameOver=function(){for(var e=0;e<4;e++)for(var t=0;t<4;t++){if(0==a.state.array[e][t])return!1;if(3!==e&&a.state.array[e][t]===a.state.array[e+1][t])return!1;if(3!==t&&a.state.array[e][t]===a.state.array[e][t+1])return!1}return!0},a.isGameWon=function(){for(var e=0;e<4;e++)for(var t=0;t<4;t++)if(512==a.state.array[e][t])return!0;return!1},a.setup=function(e){var t=localStorage.getItem("Best Score");a.setState({BestScore:t});var r=document.getElementById("myCanvas"),n=r.getContext("2d");a.drawCanvas(r),a.addNumber(a.state.array,a.state.new_array),a.addNumber(a.state.array,a.state.new_array),a.updateCanvas(n,a.state.array,a.state.new_array),a.isGameOver()&&a.setState({status:"GAME OVER"}),a.isGameWon()&&a.setState({status:"You Won !"})},a.drawCanvas=function(e){e.width=400,e.height=400},a.updateCanvas=function(e,t,r){a.drawGrid(e,t,r)},a.drawGrid=function(e,t,r){for(var n=100,o=0;o<4;o++)for(var s=0;s<4;s++){var i=a.state.colorsSizes,c=t[o][s],l=c.toString();1===r[o][s]&&(setTimeout((function(){}),100,i),r[o][s]=0),e.beginPath(),e.rect(o*n,s*n,n,n),e.fillStyle=0!=c?i[l].color:"#fff",e.lineWidth=15,e.strokeStyle="#e0e0e0",e.stroke(),e.fill(),e.closePath(),0!==t[o][s]&&(e.textAlign="center",e.fillStyle="#fff",e.font=i[l].size+"px Comic Sans MS",e.fillText(c,o*n+50,(s+1)*n-n/3))}},a.addNumber=function(e,t){for(var a=[],r=0;r<4;r++)for(var n=0;n<4;n++)0===e[r][n]&&a.push({x:r,y:n});if(a.length>0){var o=a[Math.floor(Math.random()*a.length)],s=Math.random(1);e[o.x][o.y]=s>.2?2:4,t[o.x][o.y]=1}},a.slide=function(e){var t=e.filter((function(e){return e})),a=4-t.length;return t=Array(a).fill(0).concat(t)},a.combine=function(e){for(var t=3;t>=1;t--){var r=e[t],n=e[t-1];r==n&&(e[t]=r+n,a.setState({Score:a.state.Score+e[t]}),0!=e[t]&&a.setState({point:" + "+e[t]},(function(){setTimeout((function(){a.setState({point:""})}),200)})),e[t-1]=0)}return e},a.copyArray=function(e){for(var t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],a=0;a<4;a++)for(var r=0;r<4;r++)t[a][r]=e[a][r];return t},a.compareGrid=function(e,t){for(var a=0;a<4;a++)for(var r=0;r<4;r++)if(e[a][r]!==t[a][r])return!0;return!1},a.flipGrid=function(e){for(var t=0;t<4;t++)e[t].reverse()},a.rotateGrid=function(e){for(var t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],a=0;a<4;a++)for(var r=0;r<4;r++)t[a][r]=e[r][a];return t},a.handleKeyPress=function(e){var t=!1,r=!1,n=!0,o=document.getElementById("myCanvas").getContext("2d");if(40===e.keyCode||(38===e.keyCode?(a.flipGrid(a.state.array),t=!0):39===e.keyCode?(a.setState({array:a.rotateGrid(a.state.array)}),r=!0):37===e.keyCode?(a.setState({array:a.rotateGrid(a.state.array)}),a.flipGrid(a.state.array),r=!0,t=!0):n=!1),n){for(var s=a.copyArray(a.state.array),i=0;i<4;i++)a.state.array[i]=a.operate(a.state.array[i]);var c=a.compareGrid(s,a.state.array);t&&a.flipGrid(a.state.array),r&&(a.setState({array:a.rotateGrid(a.state.array)}),a.setState({array:a.rotateGrid(a.state.array)}),a.setState({array:a.rotateGrid(a.state.array)})),c&&a.addNumber(a.state.array,a.state.new_array),a.updateCanvas(o,a.state.array,a.state.new_array),a.isGameOver()&&a.setState({status:"GAME OVER"}),a.isGameWon()&&a.setState({status:"You Won !"}),a.saveData()}},a.operate=function(e){return e=a.slide(e),e=a.combine(e),e=a.slide(e)},a.saveData=function(){var e=parseInt(a.state.Score);localStorage.setItem("Score",e);var t=localStorage.getItem("Best Score");a.setState({Score:e,BestScore:t}),e>t&&(a.setState({BestScore:e}),localStorage.setItem("Best Score",e))},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"Container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",null,n.a.createElement("h5",null,"Score"),n.a.createElement("h1",null,this.state.Score," ",this.state.point)),n.a.createElement("div",null,n.a.createElement("h5",null,"Best Score"),n.a.createElement("h1",null,this.state.BestScore))),n.a.createElement("canvas",{id:"myCanvas"}),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.newGame},"New Game")),n.a.createElement("div",{className:"GameOver"},n.a.createElement("h1",{className:"over-title"},this.state.status))))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.f3901ebc.chunk.js.map